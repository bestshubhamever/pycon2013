<!DOCTYPE html>
<html>
<head>
  <title></title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
  <!--This one seems to work all the time, but really small on ipad-->
  <!--<meta name="viewport" content="initial-scale=0.4">-->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="stylesheet" media="all" href="theme/css/default.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="theme/css/phone.css">
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  <script data-main="js/slides" src="js/require-1.0.8.min.js"></script>
</head>
<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="logoslide nobackground">
    <article class="flexbox vcenter">
      <span><img src="images/kivy-logo.png"></span>
    </article>
  </slide>

  <slide class="title-slide segue nobackground">
    <aside class="gdbar"><img src="images/kivy-logo.png"></aside>
    <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
    </hgroup>
  </slide>

  <slide>
  	<hgroup>
			<h2>Kivy Organization</h2>
		</hgroup>
		<article>
			<ul>
				<li>7 core developers</li>
				<li>13 public projects</li>
				<li>2 mailing lists, around 760 users</li>
			</ul>
		</article>
  </slide>

  <slide>
  	<hgroup>
			<h2>PyMT, the toolkit before Kivy</h2>
		</hgroup>
		<article>
		<ul>
			<li>Created in 2007, named PyMT</li>
			<li>Mainly focused for NUI on custom hardware</li>
			<li>Place for experimentation</li>
			<li>No way to run it on mobile.<li>
		</ul>
		</article>
  </slide>

  <slide>
  	<hgroup>
			<h2>Kivy, born in 2010</h2>
		</hgroup>
		<article>
		<ul>
			<li>API renamed and stabilized</li>
			<li>New graphics pipeline, compatible GLES2</li>
			<li>Android and iOS added during 2011</li>
		</ul>
		</article>
  </slide>

	<slide>
		<hgroup>
			<h2>Building for mobile</h2>
		</hgroup>
		<article>
		<p>Cross compilation is hard to get it right.<p>
		<ul>
			<li>Android: python-for-android toolchain</li>
			<li>iOS: kivy-ios toolchain</li>
		</ul>
		<p>Note: we are not related to p4a, another project named also "python-for-android".</p>
		</article>
	</slide>

	<slide>
		<hgroup>
			<h2>Accessing mobile API</h2>
		</hgroup>
		<article>
		<p>Mobile have Accelerometer, Camera, Compas, Contacts, Geolocation (GPS, Wifi), Notification etc.</p>
		<p>We don't provide abstraction for it (yet).</p>

		<div class="centered" style="marging-top: 2em">
			<b>What if we could access to anything in Java from Python ?</b>
		</div>
		</article>
	</slide>

	<slide>
		<hgroup>
			<h2>Accessing mobile API: PyJNIus</h2>
		</hgroup>
		<article>
			<ul>
				<li>Access to Java class from Python</li>
				<li>Works on Desktop and Android</li>
				<li>It use JNI internally, and Java reflection</li>
				<li>Everything is dynamic</li>
			</ul>
		</article>
	</slide>

	<slide>
		<hgroup>
			<h2>Accessing mobile API: PyJNIus</h2>
		</hgroup>
		<article>
			<p>
				Using Text-To-Speech: Make your phone say "Hello World"
			</p>
			<pre class="prettyprint" data-lang="python">
from jnius import autoclass

Locale = autoclass('java.util.Locale')
PythonActivity = autoclass('org.renpy.android.PythonActivity')
TextToSpeech = autoclass('android.speech.tts.TextToSpeech')

tts = TextToSpeech(PythonActivity.mActivity, None)
tts.setLanguage(Locale.US)
tts.speak('Hello World.', TextToSpeech.QUEUE_FLUSH, None)
			</pre>
		</article>
	</slide>

	<slide>
		<hgroup>
			<h2>Accessing mobile API: PyJNIus</h2>
		</hgroup>
		<article class="smaller">
		<p>One step further: implement Java class in Python! (wip).</p>
		<pre class="prettyprint" data-lang="python">
<b>
class GpsListener(PythonJavaClass):
    __javainterfaces__ = ['android/location/LocationListener']

    @java_method('(Landroid/location/Location;)')
    def onLocationChanged(self, location):
        print 'lat', location.getLatitude()
        print 'lon', location.getLongitude()
</b>

LocationManager = autoclass('android.location.LocationManager')
PythonActivity = autoclass('org.renpy.android.PythonActivity')
Context = autoclass('android.content.Context')
<b>
locationManager = PythonActivity.mActivity.getSystemService(
		Context.LOCATION_SERVICE)
locationManager.requestLocationUpdates(
		LocationManager.GPS_PROVIDER, 10000, 10,
		GpsListener())
</b>
			</pre>
		</article>
	</slide>


  <slide class="backdrop"></slide>

</slides>

</body>
</html>
