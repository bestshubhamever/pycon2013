<!DOCTYPE html>
<html>
<head>
  <title></title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
  <!--This one seems to work all the time, but really small on ipad-->
  <!--<meta name="viewport" content="initial-scale=0.4">-->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="stylesheet" media="all" href="theme/css/default.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="theme/css/phone.css">
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  <script data-main="js/slides" src="js/require-1.0.8.min.js"></script>
</head>
<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="logoslide nobackground">
    <article class="flexbox vcenter">
      <span><img src="images/kivy-logo.png"></span>
    </article>
  </slide>

  <slide class="title-slide segue nobackground">
    <aside class="gdbar"><img src="images/kivy-logo.png"></aside>
    <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
    </hgroup>
  </slide>

  <slide>
  	<hgroup>
			<h2>Kivy Organization</h2>
		</hgroup>
		<article>
			<ul>
				<li>7 core developers</li>
				<li>13 public projects</li>
				<li>2 mailing lists, around 760 users</li>
			</ul>
		</article>
  </slide>

  <slide>
  	<hgroup>
			<h2>PyMT, the toolkit before Kivy</h2>
		</hgroup>
		<article>
		<ul>
			<li>Created in 2007, named PyMT</li>
			<li>Mainly focused for NUI on custom hardware</li>
			<li>Place for experimentation</li>
			<li>No way to run it on mobile.<li>
		</ul>
		</article>
  </slide>

  <slide>
  	<hgroup>
			<h2>Kivy, born in 2010</h2>
		</hgroup>
		<article>
		<ul>
			<li>API renamed and stabilized</li>
			<li>New graphics pipeline, compatible GLES2</li>
			<li>Android and iOS added during 2011</li>
		</ul>
		</article>
  </slide>

	<slide>
		<hgroup>
			<h2>Building for mobile: toolchain</h2>
		</hgroup>
		<article>
		<p>We provide toolchain to compile app for Android and iOS</p>
		<p><b>Python-for-android</b></p>
		<ul>
			<li>Cross compilation toolchain for ARM/Android</li>
			<li>Python, SDL, pygame, and many others libraries are shipped</li>
			<li>One tool for packaging into APK</li>
			<li>! Our project is at <a href="http://github.com/kivy/python-for-android/">http://github.com/kivy/python-for-android/</a></li>
		</ul>
		<p><b>Kivy iOS</b></p>
		<ul>
			<li>Cross compilation toolchain for ARM/iOS</li>
			<li>Not modular, few libraries are available</li>
			<li><span class="green">Goal</span>: redo it with the same architecture as Python for Android</li>
		</ul>
		</article>
	</slide>

	<slide>
		<hgroup>
			<h2>Building for mobile: buildozer</h2>
		</hgroup>
		<article>
			<p><b>Buildozer</b></p>
			<ul>
				<li>One definition file called "buildozer.spec"</li>
				<li>Create application packages for Android and iOS</li>
			</ul>
			<pre class="prettyprint" data-lang="shell">
$ buildozer init
$ vim buildozer.spec
$ buildozer android debug deploy run</pre>
			<ul>
				<li>It hide the complexity of packaging</li>
			</ul>
		</article>
	</slide>

	<slide>
		<hgroup>
			<h2>Building for mobile: buildozer</h2>
		</hgroup>
		<article class="small">
			<pre class="prettyprint" data-lang="spec">
[app]
title = Logotouch
package.name = logotouch
package.domain = org.erasme
source.dir = .
source.include_exts = ini,py,png,jpg,ttf,kv,mo,atlas
version.regex = __version__ = '(.*)'
version.filename = %(source.dir)s/main.py
requirements = pika,kivy
presplash.filename = %(source.dir)s/data/presplash.png
icon.filename = %(source.dir)s/data/icon.png

# android specific
android.permissions = INTERNET

# ios specific
ios.codesign.debug = "iPhone Developer: Mathieu Virbel (PSW92G0TX8)"</pre>
		</article>
	</slide>

	<slide>
		<hgroup>
			<h2>Accessing mobile API</h2>
		</hgroup>
		<article>
		<p>Mobile have Accelerometer, Camera, Compas, Contacts, Geolocation (GPS, Wifi), Notification etc.</p>
		<p>We don't provide abstraction for it (yet).</p>

		<div class="centered" style="marging-top: 2em">
			<b>What if we could access to anything in Java from Python ?</b>
		</div>
		</article>
	</slide>

	<slide>
		<hgroup>
			<h2>Accessing mobile API</h2>
		</hgroup>
		<article>
			<p><b>PyJNIus - Access Java classes from Python</b></p>
			<ul>
				<li>Works on Desktop and Android</li>
				<li>It use JNI / Java reflection</li>
			</ul>
			<br/>
			<p><b>PyOBJus - Access Objective-C from Python</b></p>
			<ul>
				<li>It use Objective C reflection</li>
				<li>(Still in progress, doesn't works)</li>
			</ul>
		</article>
	</slide>

	<slide>
		<hgroup>
			<h2>Accessing mobile API: PyJNIus</h2>
		</hgroup>
		<article>
			<p>
				Using Text-To-Speech: Make your phone say "Hello World"
			</p>
			<pre class="prettyprint" data-lang="python">
from jnius import autoclass

Locale = autoclass('java.util.Locale')
PythonActivity = autoclass('org.renpy.android.PythonActivity')
TextToSpeech = autoclass('android.speech.tts.TextToSpeech')

tts = TextToSpeech(PythonActivity.mActivity, None)
tts.setLanguage(Locale.US)
tts.speak('Hello World.', TextToSpeech.QUEUE_FLUSH, None)</pre>
		</article>
	</slide>

	<slide>
		<hgroup>
			<h2>Accessing mobile API: PyJNIus</h2>
		</hgroup>
		<article class="smaller">
		<p>One step further: implement Java class in Python! (wip).</p>
		<pre class="prettyprint" data-lang="python">
<b>
class GpsListener(PythonJavaClass):
    __javainterfaces__ = ['android/location/LocationListener']

    @java_method('(Landroid/location/Location;)')
    def onLocationChanged(self, location):
        print 'lat', location.getLatitude()
        print 'lon', location.getLongitude()
</b>

LocationManager = autoclass('android.location.LocationManager')
PythonActivity = autoclass('org.renpy.android.PythonActivity')
Context = autoclass('android.content.Context')
<b>
locationManager = PythonActivity.mActivity.getSystemService(
		Context.LOCATION_SERVICE)
locationManager.requestLocationUpdates(
		LocationManager.GPS_PROVIDER, 10000, 10,
		GpsListener())
</b></pre>
		</article>
	</slide>


  <slide class="backdrop"></slide>

</slides>

</body>
</html>
